---
- name: Apt cache update
  apt: update_cache=yes
  tags:
    - ihtsdo-asset

- name: Install snomed-release-service-api package
  apt: name=snomed-release-service-api state=installed
  notify:
    - restart snomed-release-service-api
  when: snomed_release_service_api_version == 'installed'
  tags:
    - ihtsdo-asset

- name: Install latest snomed-release-service-api package
  apt: name=snomed-release-service-api state=latest
  notify:
    - restart snomed-release-service-api
  when: snomed_release_service_api_version == 'latest'
  tags:
    - ihtsdo-asset

- name: Install snomed-release-service-api package specific version
  apt: name=snomed-release-service-api={{ snomed_release_service_api_version }} state=installed
  notify:
    - restart snomed-release-service-api
  when: snomed_release_service_api_version != 'installed' and snomed_release_service_api_version != 'latest'
  tags:
    - ihtsdo-asset

