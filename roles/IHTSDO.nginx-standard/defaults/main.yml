---
nginx_version: latest
nginx_user: nginx
nginx_max_clients: 512

nginx_ssl_location: "/opt/ssl/ihtsdotools_wildcard"
nginx_ssl_key_file: "{{ inventory_dir }}/../files/ssl/ihtsdotools2016.key"
nginx_ssl_cert_file: "{{ inventory_dir }}/../files/ssl/ihtsdotools2016.chained.crt"
nginx_ssl_chain_file: "{{ inventory_dir }}/../files/ssl/ihtsdotools2016.intermediatechain.crt"

nginx_maint_location: /opt/maint
nginx_maint_page_url: "https://static-web.ihtsdotools.org/html/maint.html"
nginx_maint_filename: "maintain.html"

nginx_http_parameters:
  sendfile: "on"
  tcp_nopush: "on"
  tcp_nodelay: "on"
  keepalive_timeout: "65"
  access_log: "/var/log/nginx/access.log"
  error_log: "/var/log/nginx/error.log"
  types_hash_bucket_size: 64
  client_max_body_size: 100M
  server_names_hash_bucket_size: 64
  gzip: "on"
  gzip_disable: "msie6"
  default_type: "application/octet-stream"

nginx_sites_available:
 - server:
    template: "default"
    root: "/blah/change_me"
    root_files: "index.htm index.html"
    proxy_pass: "http://localhost:8080"
    cors_location: ".*\\.ihtsdotools.org"
 - server:
    template: "blank"
